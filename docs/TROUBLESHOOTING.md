# Troubleshooting

| Problem                                                                                       | Solution                                                                                                                                                                                                                                                                              |
| :-------------------------------------------------------------------------------------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| `Could not connect to the development server`                                                 | kill all terminals, kill all simulators, re-run `yarn ios` or `yarn android`                                                                                                                                                                                                          |
| `Failed to resolve: support-v4`                                                               | `api "com.android.support:support-v4:$supportVersion"` -> `implementation "com.android.support:support-v4:+"`                                                                                                                                                                         |
| `updating the version of com.google.android.gms to 11.4.2.`                                   | move `apply plugin: 'com.google.gms.google-services'` to the bottom of `app/build.gradle`                                                                                                                                                                                             |
| `The development server returned a response of 500`                                           | run `yarn start` and `yarn android`                                                                                                                                                                                                                                                   |
| `error: failed to push some refs to 'git@bitbucket.org:hingeinc/phoenix.git'`                 | run `git push` within the terminal                                                                                                                                                                                                                                                    |
| `error /Users/<USER>/hinge-health/phoenix/node_modules/react-native-ble-plx: Command failed.` | run `brew install carthage; gem install cocoapods; cd ios; pod install; cd ..; yarn ios;`                                                                                                                                                                                             |
| `Cannot add a child that doesn't have a YogaNode`                                             | Make sure your `jsx` is properly formatted                                                                                                                                                                                                                                            |
| `Unknown named module`                                                                        | kill everything, run `yarn start`. typically happens after adding a new npm/module                                                                                                                                                                                                    |
| running from `pre-bundled build`                                                              | make sure device is on the same network as computer and restart metro bundler                                                                                                                                                                                                         |
| android simulator crashing                                                                    | screens with `react-native-video` will not work with android simulator, use a device                                                                                                                                                                                                  |
| `com.android.ddmlib.InstallException: INSTALL_FAILED_UPDATE_INCOMPATIBLE`                     | delete and reinstall the app using `yarn android`                                                                                                                                                                                                                                     |
| seeing 1000x of linting errors                                                                | pull down the latest `package.json` and `yarn.lock` from master and run `yarn install`                                                                                                                                                                                                |
| images are still fuzzy/blurry                                                                 | run `yarn reset` and make sure you are using `example.png` `example@2x.png` `example@3x.png`                                                                                                                                                                                          |
| `__DEV__` not working                                                                         | `__DEV__` only works in dev mode (from shaking the device). It is not reliable for prod/dev builds.                                                                                                                                                                                   |
| `componentWillUnmount()` not being called                                                     | When navigating within a stack, `componentWillUnmount()` will NOT be called. Only when you exit from one stack to another will it be called.                                                                                                                                          |
| `Application phoenix has not been registered`                                                 | Kill metro bundler and run `yarn android` again                                                                                                                                                                                                                                       |
| images are not showing up                                                                     | nest inside a [flatlist](https://github.com/facebook/react-native/issues/13600) with resizeMode="resize"                                                                                                                                                                              |
| bypass github hooks                                                                           | `git push --no-verify`                                                                                                                                                                                                                                                                |
| cannot build android apk                                                                      | `npx jetify && cd android && ./gradlew clean && ./gradlew assembleRelease`                                                                                                                                                                                                            |
| cannot build android aap                                                                      | `npx jetify && cd android && ./gradlew clean && ./gradlew assembleRelease`                                                                                                                                                                                                            |
| cannot install aap                                                                            | `cd android/app/build/bundle/outputs/bundle/release && tool build-apks --bundle=app.aab --output=app.apks --ks=../../../../release.jks --ks-pass=pass:HIDDEN --ks-key-alias=release --key-pass=pass:HIDDEN --overwrite --mode=universal` `unzip app.apks` `adb install universal.apk` |
| slow flat list                                                                                | remove transparency and remove [renderItem functions](https://facebook.github.io/react-native/docs/optimizing-flatlist-configuration#avoid-anonymous-function-on-renderitem)                                                                                                          |
