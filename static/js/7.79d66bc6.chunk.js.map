{"version":3,"sources":["conversions/Firebase/index.web.ts","features/Login/index.tsx","apps/Checklists/Home.tsx","apps/Checklists/index.tsx"],"names":["auth","SignInButton","memo","onPress","icon","title","color","useColor","style","alignItems","justifyContent","flexDirection","borderColor","text","borderWidth","padding","config","marginBottom","borderRadius","name","paddingLeft","type","Login","onBackgroundPress","useState","email","password","phone","phoneCode","phoneConfirmation","state","form","setForm","onEmail","useCallback","prev","onForgotPassword","onLanding","onPhone","onEmailChange","onPhoneChange","onPhoneCodeChange","onPasswordChange","onPhoneSubmit","a","signInWithPhoneNumber","onPhoneConfirm","console","log","confirm","onEmailSubmit","createUserWithEmailAndPassword","then","catch","error","code","onMissingCallback","onAnonymous","signInAnonymously","onLogout","signOut","finally","useEffect","showOverlay","ActivityIndicator","size","keyboardType","onChangeText","placeholder","value","emphasis","textContentType","secureTextEntry","Platform","OS","Home","onLeftPress","useAdminNavBack","styles","StyleSheet","create","bottom","paddingBottom","showLogin","setShowLogin","onToggleLogin","contentContainerStyle","paddingHorizontal","paddingVertical","backgroundColor","surface","background","fab","position","right","margin","noHeader","headerShown","Stack","createStackNavigator","Navigator","screenOptions","Screen","component"],"mappings":"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","file":"static/js/7.79d66bc6.chunk.js","sourcesContent":["const auth = {};\nexport {auth};\n","import React, {memo, useCallback, useEffect, useState} from 'react';\nimport {ActivityIndicator, Platform} from 'react-native';\nimport {\n  Button,\n  Icon,\n  Input,\n  Modal,\n  Text,\n  TouchableOpacity,\n} from '../../components';\nimport {auth, FirebaseAuthTypes} from '../../conversions/Firebase';\nimport {useColor} from '../../hooks';\nimport {config} from '../../utils';\n\ninterface Props {\n  onBackgroundPress: () => void;\n}\n\ninterface SignInButtonProps {\n  onPress: () => void;\n  icon: string;\n  title: string;\n}\nconst SignInButton = memo(function SignInButton({\n  onPress,\n  icon,\n  title,\n}: SignInButtonProps) {\n  const color = useColor();\n  return (\n    <TouchableOpacity\n      onPress={onPress}\n      style={{\n        alignItems: 'center',\n        justifyContent: 'center',\n        flexDirection: 'row',\n        borderColor: color.text,\n        borderWidth: 2,\n        padding: config.padding(2),\n        marginBottom: config.padding(2),\n        borderRadius: config.padding(10),\n      }}>\n      <Icon name={icon} />\n      <Text\n        style={{paddingLeft: config.padding(2)}}\n        title={title}\n        type=\"button\"\n      />\n    </TouchableOpacity>\n  );\n});\n\ntype FormState =\n  | 'loading'\n  | 'landing'\n  | 'email'\n  | 'forgot password'\n  | 'phone'\n  | 'phone confirm';\n\ntype State = {\n  email: string;\n  password: string;\n  phone: string;\n  phoneCode: string;\n  phoneConfirmation: FirebaseAuthTypes.ConfirmationResult | null;\n  state: FormState;\n};\n\nexport const Login = memo(function Login({onBackgroundPress}: Props) {\n  const [form, setForm] = useState<State>({\n    email: '',\n    password: '',\n    phone: '',\n    phoneCode: '',\n    phoneConfirmation: null,\n    state: 'loading',\n  });\n\n  const onEmail = useCallback(\n    () => setForm((prev) => ({...prev, password: '', state: 'email'})),\n    [],\n  );\n  const onForgotPassword = useCallback(\n    () => setForm((prev) => ({...prev, state: 'forgot password'})),\n    [],\n  );\n  const onLanding = useCallback(\n    () =>\n      setForm((prev) => ({...prev, email: '', password: '', state: 'landing'})),\n    [],\n  );\n  const onPhone = useCallback(\n    () => setForm((prev) => ({...prev, state: 'phone'})),\n    [],\n  );\n\n  const onEmailChange = useCallback(\n    (email: string) => setForm((prev) => ({...prev, email})),\n    [],\n  );\n  const onPhoneChange = useCallback(\n    (phone: string) => setForm((prev) => ({...prev, phone})),\n    [],\n  );\n  const onPhoneCodeChange = useCallback(\n    (phoneCode: string) => setForm((prev) => ({...prev, phoneCode})),\n    [],\n  );\n  const onPasswordChange = useCallback(\n    (password: string) => setForm((prev) => ({...prev, password})),\n    [],\n  );\n\n  const onPhoneSubmit = useCallback(async () => {\n    const phoneConfirmation = await auth().signInWithPhoneNumber(form.phone);\n    setForm((prev) => ({...prev, state: 'phone confirm', phoneConfirmation}));\n  }, [setForm, form.phone]);\n\n  const onPhoneConfirm = useCallback(async () => {\n    if (!form.phoneConfirmation) {\n      console.log('missing confirmation');\n      return;\n    }\n    try {\n      await form.phoneConfirmation.confirm(form.phoneCode);\n      setForm((prev) => ({...prev, state: 'landing'}));\n    } catch {\n      console.log('invalid code');\n    }\n  }, [form.phoneCode, form.phoneConfirmation]);\n\n  const onEmailSubmit = useCallback(() => {\n    auth()\n      .createUserWithEmailAndPassword(form.email, form.password)\n      .then(() => {\n        console.log('User account created & signed in!');\n      })\n      .catch((error) => {\n        if (error.code === 'auth/email-already-in-use')\n          console.log('That email address is already in use!');\n\n        if (error.code === 'auth/invalid-email')\n          console.log('That email address is invalid!');\n\n        console.error(error);\n      });\n  }, [form.email, form.password]);\n\n  const onMissingCallback = useCallback(() => undefined, []);\n\n  const onAnonymous = useCallback(() => {\n    auth()\n      .signInAnonymously()\n      .then(() => {\n        console.log('User signed in anonymously');\n      })\n      .catch((error) => {\n        if (error.code === 'auth/operation-not-allowed')\n          console.log('Enable anonymous in your firebase console.');\n\n        console.error(error);\n      });\n  }, []);\n\n  const onLogout = useCallback(() => {\n    auth()\n      .signOut()\n      .then(() => console.log('User signed out!'))\n      .catch(() => console.log('no user to sign out'))\n      .finally(() => setForm((prev) => ({...prev, state: 'landing'})));\n  }, []);\n\n  useEffect(() => {\n    onLogout();\n  }, [onLogout]);\n\n  return (\n    <Modal onBackgroundPress={onBackgroundPress} showOverlay>\n      {form.state === 'loading' ? (\n        <ActivityIndicator size=\"large\" />\n      ) : form.state === 'phone confirm' ? (\n        <>\n          <Input\n            keyboardType=\"number-pad\"\n            onChangeText={onPhoneCodeChange}\n            placeholder=\"phone confirmation code\"\n            value={form.phoneCode}\n          />\n          <Button\n            color=\"primary\"\n            emphasis=\"high\"\n            onPress={onPhoneConfirm}\n            title=\"verify phone confirmation code\"\n          />\n          <Button onPress={onPhone} title=\"go back\" />\n        </>\n      ) : form.state === 'phone' ? (\n        <>\n          <Input\n            keyboardType=\"number-pad\"\n            onChangeText={onPhoneChange}\n            placeholder=\"phone\"\n            value={form.phone}\n          />\n          <Button\n            color=\"primary\"\n            emphasis=\"high\"\n            onPress={onPhoneSubmit}\n            title=\"send confirmation code\"\n          />\n          <Button onPress={onLanding} title=\"go back\" />\n        </>\n      ) : form.state === 'forgot password' ? (\n        <>\n          <Input\n            keyboardType=\"email-address\"\n            onChangeText={onEmailChange}\n            placeholder=\"email\"\n            textContentType=\"username\"\n            value={form.email}\n          />\n          <Button\n            color=\"primary\"\n            emphasis=\"high\"\n            onPress={onEmailSubmit}\n            title=\"send password reset\"\n          />\n          <Button onPress={onEmail} title=\"go back\" />\n        </>\n      ) : form.state === 'email' ? (\n        <>\n          <Input\n            keyboardType=\"email-address\"\n            onChangeText={onEmailChange}\n            placeholder=\"email\"\n            textContentType=\"username\"\n            value={form.email}\n          />\n          <Input\n            onChangeText={onPasswordChange}\n            placeholder=\"password\"\n            secureTextEntry\n            textContentType=\"password\"\n            value={form.password}\n          />\n          <Button color=\"primary\" emphasis=\"high\" title=\"submit\" />\n          <Button onPress={onForgotPassword} title=\"forgot password\" />\n          <Button onPress={onLanding} title=\"go back\" />\n        </>\n      ) : (\n        <>\n          {Platform.OS === 'ios' && (\n            <SignInButton\n              icon=\"apple\"\n              onPress={onMissingCallback}\n              title=\"Continue with Apple\"\n            />\n          )}\n          <SignInButton\n            icon=\"google\"\n            onPress={onMissingCallback}\n            title=\"Continue with Google\"\n          />\n          <SignInButton\n            icon=\"facebook\"\n            onPress={onMissingCallback}\n            title=\"Continue with Facebook\"\n          />\n          <SignInButton\n            icon=\"email\"\n            onPress={onEmail}\n            title=\"Continue with Email\"\n          />\n          <SignInButton\n            icon=\"phone\"\n            onPress={onPhone}\n            title=\"Continue with Phone\"\n          />\n          <SignInButton\n            icon=\"close\"\n            onPress={onAnonymous}\n            title=\"Continue trial\"\n          />\n        </>\n      )}\n    </Modal>\n  );\n});\n","import React, {memo, useCallback, useState} from 'react';\nimport {StyleSheet} from 'react-native';\nimport {Button, Card, Icon, Screen, Text} from '../../components';\nimport {ScrollView} from '../../conversions';\nimport {Login} from '../../features/Login';\nimport {useAdminNavBack, useColor} from '../../hooks';\nimport {config} from '../../utils';\n\nexport const Home = memo(function Checklists() {\n  const color = useColor();\n  const {onLeftPress} = useAdminNavBack();\n  const styles = StyleSheet.create({\n    bottom: {\n      paddingBottom: config.padding(4),\n    },\n  });\n  const [showLogin, setShowLogin] = useState(false);\n  const onToggleLogin = useCallback(() => setShowLogin((prev) => !prev), []);\n\n  return (\n    <>\n      <Screen onLeftPress={onLeftPress} title=\"Checklists\">\n        <ScrollView\n          contentContainerStyle={{\n            paddingHorizontal: config.padding(4),\n            paddingVertical: config.padding(2),\n          }}\n          style={{backgroundColor: color.surface}}>\n          <Card>\n            <Text\n              emphasis=\"medium\"\n              style={styles.bottom}\n              title=\"Weekly Goals\"\n              type=\"h4\"\n            />\n            <Text title=\"1. complete learn plan profit\" type=\"caption\" />\n            <Text title=\"2. ship checklist\" type=\"caption\" />\n            <Text title=\"3. complete 30 leetcode\" type=\"caption\" />\n          </Card>\n          <Card>\n            <Text\n              emphasis=\"medium\"\n              style={styles.bottom}\n              title=\"Daily Habits and Routines\"\n              type=\"h4\"\n            />\n            <Text title=\"After I wake up\" type=\"caption\" />\n            <Text title=\"After I shower\" type=\"caption\" />\n            <Text title=\"Before I one on one\" type=\"caption\" />\n            <Text title=\"Before I get on the train\" type=\"caption\" />\n          </Card>\n        </ScrollView>\n        <Icon\n          color={color.background}\n          fab\n          name=\"plus\"\n          style={{\n            position: 'absolute',\n            bottom: 0,\n            right: 0,\n            margin: config.padding(4),\n          }}\n        />\n        <Button onPress={onToggleLogin} title=\"showLogin\" />\n      </Screen>\n      {showLogin && <Login onBackgroundPress={onToggleLogin} />}\n    </>\n  );\n});\n","import {createStackNavigator} from '@react-navigation/stack';\nimport React, {memo} from 'react';\nimport {Home} from './Home';\n\nconst noHeader = {headerShown: false};\nconst Stack = createStackNavigator();\n\n// TODO: remove unused checklist screens and redux\n\nexport default memo(function Checklists() {\n  return (\n    <Stack.Navigator screenOptions={noHeader}>\n      <Stack.Screen component={Home} name=\"home\" />\n    </Stack.Navigator>\n  );\n});\n"],"sourceRoot":""}